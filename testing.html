<!DOCTYPE html>
<head>
    <link rel="icon" href="./img/icon.png" type="image/x-icon">
    <style type="text/css">
        @import"./_includes/css/grayscale.css";
    </style>
    <!-- <script src="/js/datapresent.js"></script> -->
    <style>
        #latencyTable thead th button{
            width:150px;
            height: 60px;
        }
    </style>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous"> -->
</head>
<body>
    <p>Metric to display by: 
        <select style="color:black" id="generateStandard">
            <option value="Single_thread" selected>Single-thread</option>
            <option value="Multi_threads">Multi-thread</option>
        </select>
    </p>
    <p>
        Displaying results on datasets:
        <select id="dataset"> 
        </select>
    </p>
    <button onclick="generate()" style="color:black;">Generate Heatmap and Leaderboard</button>
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">
                    <img src="../img/GRE-Header-3.png" width="118" height="20" style="color:green;">
                </a>
            </div>

            
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#data">DataDetails</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#download">Download</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            
        </div>
        
    </nav>
    <p>Select a subset of indexes to display: <button onclick="showList()" style="color:black" id="showOptions">Show Options</button></p>
                <p>Quick selections: 
                    <button onclick="selectAll()" style="color:black">All Indexes</button>
                    <button onclick="selectTR()" style="color:black">Traditional Indexes</button>
                    <button onclick="selectLE()" style="color:black">Learned Indexes</button>
                </p>
                <form id="indexList" style="line-height: 40px; background-color:blanchedalmond"></form>
                <button onclick="generate()" style="color:black;">Generate Leaderboard</button>
                <h2></h2>
                <h3>Leaderboard</h3>
                <p>
                    Results below are by model. Click on a header to sort by that measure. Click on an index name to open the relevant GitHub repo. If you want to show different indexes, please choose some from above and click "Generate Leaderboard" again;
                </p>
                <p>
                    This leaderboard displays the average Throughput for a randomly selected key in different read/write ratio.
                    <br>Learned indexes are marked in <b>bold</b>.
                </p>
                <div class="table-wrapper">
                    <table class="sortable tables" id = "latencyTable">
                        <thead>
                            <th></th>
                            <th style="text-align: center;" class><button onclick=""><span style="font-size: 15px;">Index</span><br><span style="font-size: 10px;">Throughput</span></button></th>
                            <th style="text-align: center;" class><button onclick="reorder(2)"><span style="font-size: 15px;">Read</span><br><span style="font-size: 10px;">Read:1 Write:0</span></button></th>
                            <th style="text-align: center;" class><button onclick="reorder(3)"><span style="font-size: 15px;">RW</span><br><span style="font-size: 10px;">Read:0.8 Write:0.2</span></button></th>
                            <th style="text-align: center;" class><button onclick="reorder(4)"><span style="font-size: 15px;">M</span><br><span style="font-size: 10px;">Read:0.5 Write:0.5</span></button></th>
                            <th style="text-align: center;" class><button onclick="reorder(5)"><span style="font-size: 15px;">WR</span><br><span style="font-size: 10px;">Read:0.2 Write:0.8</span></button></th>
                            <th style="text-align: center;" class><button onclick="reorder(6)"><span style="font-size: 15px;">Write</span><br><span style="font-size: 10px;">Read:0 Write:1</span></button></th>
                        </thead>
                    </table>
                </div>   
            </div>
    <img src="./img/GRE-Header-3.png"></div>    
    <p>Metric to display by: 
        <select readonly style="color:black" id="generateStandard">
            <option value="Latency" selected>Latency(ns)</option>
            <option value="BuildUpTime">BuildUpTime(ns)</option>
            <option value="Size">Size</option>
        </select>
    </p>
    <!-- <div class="col-8">
        <h3>Plots</h3>
        <p>Here we provide a plot of index size against lookup latency on GRE data. Indexes can be added and removed from the plot using the corresponding buttons on the leaderboard. Noted that in maximun there can be up to 7 plots presented</p>
        <canvas id="plots" style="background-color: white;"></canvas>
        <button style="color: black ;">Clear the Area</button>
    </div> -->
    <button style="color: black ;">Clear the Area</button>
    <section id="heatmap" class="content-section text-center" style="text-align: left; line-height: normal;">
        <div class="container">
            <h2 style="text-align: center;">Heat Map</h2>
            <div class="row">
                <div style="display:inline ; width:25%" >
                    <h4>Choose Dataset to be display in HeatMap</h4>
                    <table style="width: 90%" id="datasetlt"></table>
                    <br>
                    <button onclick="generateHeatMap()" style="color:black;">Reflesh HeatMap</button>
                </div>
                <div style="width:90%;position: center;text-align: center;float:left">
                    <p style="float:left;width: 45%;background: linear-gradient(90deg, rgba(255,0,2,1) 0%, rgba(255,212,0,1) 100%);">Tradition</p><p style="float:left; width: 45%;background: linear-gradient(90deg, rgba(0,212,255,1) 0%, rgba(2,0,255,1) 100%);">Learned</p></div>
                <div id="tt" style="width: 80%; left:10%;"></div>
            </div>
        </div>
    </section>
    <div class="col-8">
        <h3>Plots(Not Finished yet)</h3>
        <p>Here we provide a plot of index size against lookup latency on GRE data. Indexes can be added and removed from the plot using the corresponding buttons on the leaderboard. Noted that in maximun there can be up to 7 plots presented</p>
        <canvas id="plots" style="width:80%"></canvas>
        <!-- <button style="color: black ;" onclick="draw()">Clear the Area</button> -->
    </div>
    <script src="/js/3-js/three.min.js"></script>
    <script src="/js/3-js/OrbitControls.js"></script>
    <script src="/js/3-js/FontLoader.js"></script>
    <script src="/js/3-js/TextGeometry.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="/js/datapresent.js"></script>
</body>